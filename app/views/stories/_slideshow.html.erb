<% original ||= false %>
<% @readonly = {} %>
<% @isTO = @trans && original # if mode is translate and screen is original(first) %>
<% if @isTO %>
    <% @readonly = { readonly:true , disabled: true } %>
<% end %>



  <h2 class="form-title"><%= t('.form_title') %></h2>
  <%= semantic_form_for(@item, url: slideshow_story_path(id:params[:id],:format => :js), :html => { :multipart=> true, :id => "slideshowForm" } , remote: true) do |f| %>
    <%= f.inputs do %>
      <%= f.fields_for :slideshow_translations, @item.translation_for(@item.current_locale) do |f_translation| %>

        <%= (f_translation.input :locale , :as => :hidden) if !@isTO %>

        <%= f_translation.input :title, 
        { 
          :input_html => { id: (!@isTO ?  "slideshowTitle" : nil) }      
          .merge(@readonly) 
        }
        .merge(( (@isTO) ? {} : { hint: t('.hint.title'), placeholder: t('.placeholder.title') })) %>

        <%= f_translation.input :caption, 
        { 
          :input_html => { id: (!@isTO ?  "slideshowCaption" : nil) }      
          .merge(@readonly) 
        }
        .merge(( (@isTO) ? {} : { hint: t('.hint.caption'), placeholder: t('.placeholder.caption') })) %>



     
         <div id="slideshowAssets" class="clear">
          <% @item.assets.each do |asset_item| %>  
          <% Rails.logger.debug("-------------------------------------------__#{@isTO}") %>
             <div class="fields clear">
                <%= f.fields_for :assets, asset_item do |ff| %>
                  <%= render :partial => 'asset_fields', :locals => {:f => ff, :asset_item => asset_item } %>
                <% end %> 
              </div>
          <% end %> 
        </div>

        <% if !@trans %>
          <div class="add_imgage_button">
            <%= link_to_add_fields t('.add_image'), f, :assets %>
          </div>
        <% end %>
        <%= (f.input :section_id, :as => :hidden , :input_html => { :id => "slideshowSection" }) if !@isTO %>
        <% if @item.id.present? %>
          <%= (f.input :id, :as => :hidden , :input_html => { :id => "slideshowId" }) if !@isTO  %>    
        <% end %>
      <% end %>
    <% end %>

    <% if !@isTO %>
      <div class="pull-right spacer">            
        <%= f.submit nil, :class => 'btn btn-default' %>
        <%= f.submit t('helpers.links.reset'), :class => 'btn btn-default', :type => :reset, :name => :reset %>          
      </div>
    <% end %>    
  <% end %>